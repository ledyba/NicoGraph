import os ;

BOOST_INCLUDE = [ os.environ BOOST_INCLUDE ] ;

lib pthread : : <name>pthread ;
lib glog : : <name>glog ;
lib gflags : : <name>gflags ;
lib profiler : : <name>profiler ;
lib boost_system : : <name>boost_system ;

project
    : build-dir bin
    : requirements
        <library>pthread
        <library>glog
        <library>gflags
        <library>boost_system
        <library>profiler
        <toolset>gcc:<cxxflags>-std=gnu++11
        <toolset>darwin:<cxxflags>-std=c++11
        <toolset>clang:<cxxflags>-std=c++11
    ;

lib graph
	:
    src/graph/graph.cpp
    pthread
    glog
    gflags
    :
    ;

exe nicopp
    :
    src/ep/nicopp.cpp
    pthread
    glog
    gflags
    boost_system
    graph
    :
    <include>external/
    <link>shared
    ;

exe bench
    :
    src/ep/bench.cpp
    src/nico/file.cpp
    src/original/community.cpp
    src/original/graph_binary.cpp
    glog
    gflags
    graph
    profiler
    :
    <link>shared
    ;