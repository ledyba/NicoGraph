import os ;

BOOST_INCLUDE = [ os.environ BOOST_INCLUDE ] ;

lib pthread : : <name>pthread ;
lib glog : : <name>glog ;
lib gflags : : <name>gflags ;
lib profiler : : <name>profiler ;
lib boost_system : : <name>boost_system ;

project
    : build-dir bin
    : requirements
        <library>pthread
        <library>folly
        <library>glog
        <library>gflags
        <library>proxygenhttpserver
        <library>mysqlclient
        <library>profiler
        <toolset>gcc:<cxxflags>-std=gnu++11
    ;

exe nicopp
    :
    src/ep/nicopp.cpp
    src/graph/graph.cpp
    src/graph/loader.cpp
    pthread
    folly
    glog
    gflags
    proxygenhttpserver
    mysqlclient
    :
    <link>shared
    ;

exe profiler
    :
    src/ep/profiler.cpp
    src/nico/file.cpp
    src/graph/graph.cpp
    src/graph/loader.cpp
    src/original/community.cpp
    src/original/graph_binary.cpp
    glog
    gflags
    profiler
    :
    <link>shared
    ;